<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Calculator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="head">
        <h1>Project "Calculator"</h1>
    </div>
    <div class="main">
        <div id="container"></div>
        <div class="buttons">
            <div class="digit">
                <button id="btn1" onclick="addDigit(1)">1</button>
                <button id="btn2" onclick="addDigit(2)">2</button>
                <button id="btn3" onclick="addDigit(3)">3</button>
                <button id="btn4" onclick="addDigit(4)">4</button>
                <button id="btn5" onclick="addDigit(5)">5</button>
                <button id="btn6" onclick="addDigit(6)">6</button>
                <button id="btn7" onclick="addDigit(7)">7</button>
                <button id="btn8" onclick="addDigit(8)">8</button>
                <button id="btn9" onclick="addDigit(9)">9</button>
                <button id="btn0" onclick="addDigit(0)">0</button>
                <button id="dot" onclick="addDot()">.</button>
            </div>
            <div class="operators">
                <button id="btnMin">-</button>
                <button id="btnPlus" onclick="addOperators(0)">+</button>
                <button id="btnSub" onclick="addOperators(1)">/</button>
                <button id="btnMult" onclick="addOperators(2)">*</button>
            </div>
            <div class="ravno">
                <button id="btnFin">=</button>
                <button id="clear">clear</button>
                <button id="delete">delete</button>
            </div>
        </div>
        <script>
            
            const container = document.querySelector("#container");
            const content = document.createElement("div");
            let string = "";
            const btnMin = document.querySelector("#btnMin");
            const btnFin = document.querySelector("#btnFin");
            const btnDel = document.querySelector("#delete");
            const btnClear = document.querySelector("#clear");

            function addDigit(a){
                string += a;
                content.textContent = string;
                container.appendChild(content);
            }

            function addDot(){
                let str = string.split(" ");
                if ((str.length > 2 && str[2].includes(".")) || (str.length < 2 && str[0].includes(".")))
                {
                    content.textContent = string;
                    container.appendChild(content);
                }
                else {
                    string += ".";
                    content.textContent = string;
                    container.appendChild(content);
                }
            }
            function addOperators(a){
                if (string.length != 0 && string[string.length - 1] != "-" && string.includes(" ") == false){
                    a == 0 ? string += " + ": a == 1 ? string += " / ": string += " * "
                    content.textContent = string;
                    container.appendChild(content);
                }
            }
            
            btnMin.addEventListener("click", () => {
                if(string.length == 0 || (string.includes(" ") && string[string.length - 1] == " ")){
                    string += "-";
                    content.textContent = string;
                    container.appendChild(content);
                }
                else if((string.includes(" ") && string[string.length - 1] !== " ") || string[string.length - 1] == "-" || (string.length == 1 && string.includes(".")) || (string.includes(" ") && string[string.length - 1] == ".")){
                    content.textContent = string;
                    container.appendChild(content);
                }
                else {
                    string += " - ";
                    content.textContent = string;
                    container.appendChild(content);
                }
            });
            btnFin.addEventListener("click", () => {
                if (string.includes(" ") && (string[string.length - 1] != " " || string[string.length - 1] != "-")){
                    str = string.split(" ");
                    str[1] == "+" ? string += ` = ${+str[0] + +str[2]}`: 
                    str[1] == "-" ? string += ` = ${+str[0] - +str[2]}`: 
                    str[1] == "/" ? string += ` = ${+str[0] / +str[2]}`: 
                    str[1] == "*" ? string += ` = ${+str[0] * +str[2]}`: string = "Mistake, please write again"
                }
                content.textContent = string;
                container.appendChild(content);
                string = "";
            });
        </script>
        
        
    </div>

</body>
</html>